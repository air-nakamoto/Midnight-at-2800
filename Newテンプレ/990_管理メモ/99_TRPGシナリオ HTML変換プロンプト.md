# TRPGシナリオ HTML変換プロンプト

整理済みのシナリオフォルダを、セッション運用に特化した単一HTMLに変換してください。

📁 入力: /Users/air/Documents/Air Date/TRPG/CoC/シナリオ/[シナリオ名]/
📄 出力: [シナリオ名]_session.html

---

# 入力フォルダ構造
```
[シナリオ名]/
├── 00_WP前提.txt
├── 01_概要.txt
├── 02_ハンドアウト.txt
├── 03_PC情報.txt
├── 04_ナチュラルプランニング.txt
├── 05_案.txt
├── 000_導入/
│   ├── 00_導入_概要.txt
│   └── 01_導入1-1.txt
├── 001_ミドル1/
├── ...
├── 099_クライマックス/
├── 100_エンディング/
├── 101_報酬/
└── 102_解説/
```

---

# HTML仕様

## レイアウト
```
┌──────────────────────────────────────────────┐
│ ヘッダー: シナリオ名 | テーマ | 全展開/折畳 | ⚙設定 │
├───────────┬──────────────────────────────────┤
│           │                                  │
│ サイドバー │        メインコンテンツ          │
│  (250px)  │       (残り幅・スクロール)        │
│           │                                  │
│ 番号順に  │   セクションごとに折りたたみ可能  │
│ 自動表示  │                                  │
│           │                                  │
└───────────┴──────────────────────────────────┘
```

## サイドバー表示順（番号順・自動）
```
00_WP前提
01_概要
02_ハンドアウト
03_PC情報
04_ナチュラルプランニング
05_案
───────────
📁 000_導入
📁 001_ミドル1
📁 099_クライマックス
📁 100_エンディング
───────────
📁 101_報酬
📁 102_解説
```

---

## 必須機能

### 1. 折りたたみ
- 各セクション（ファイル単位）を折りたたみ/展開可能
- フォルダ単位でも折りたたみ可能
- 「全展開」「全折りたたみ」ボタン
- 状態はLocalStorageに保存

### 2. 進行管理チェックボックス
- 各セクションにチェックボックス
- チェック済みはグレーアウト
- 「チェックをリセット」ボタン
- 状態はLocalStorageに保存

### 3. テーマ切替
- ライトモード / ダークモード
- LocalStorageに保存

### 4. クイックアクセス
- ヘッダーに「ハンドアウト」「PC情報」への固定リンク

### 5. 初回モーダル
- 読み込み時に「00_WP前提」をモーダル表示
- 次回以降は非表示（LocalStorage管理）

---

## 強調表示機能（オプション・カスタマイズ可能）

### 設定画面（⚙ボタンで開く）
```
┌─────────────────────────────────────────┐
│ ⚙ 強調表示設定                     [×] │
├─────────────────────────────────────────┤
│                                         │
│ ☑ 強調表示を有効にする                  │
│                                         │
│ ─────────────────────────────────────── │
│                                         │
│ 【登録済みパターン】                     │
│                                         │
│ ☑ SANチェック                           │
│   キーワード: SAN, 正気度, 狂気, 0/1D   │
│   背景色: [#ffebee] 文字色: [#c62828]   │
│   [編集] [削除]                         │
│                                         │
│ ☑ 技能判定                              │
│   キーワード: 【判定】, 〈, 《          │
│   背景色: [#e3f2fd] 文字色: [#1565c0]   │
│   [編集] [削除]                         │
│                                         │
│ ☐ NPC情報（無効）                       │
│   キーワード: NPC:, 【NPC】             │
│   背景色: [#fff9c4] 文字色: [#f57f17]   │
│   [編集] [削除]                         │
│                                         │
│ ─────────────────────────────────────── │
│                                         │
│ [＋ 新しいパターンを追加]               │
│                                         │
│ ─────────────────────────────────────── │
│ [デフォルトに戻す]        [設定を保存]  │
└─────────────────────────────────────────┘
```

### パターン追加/編集画面
```
┌─────────────────────────────────────────┐
│ パターンを追加                     [×] │
├─────────────────────────────────────────┤
│                                         │
│ パターン名:                             │
│ [________________________]              │
│                                         │
│ キーワード（カンマ区切り）:             │
│ [________________________]              │
│ 例: SAN, 正気度, 0/1D                   │
│                                         │
│ 背景色:  [#ffebee] [■]                 │
│ 文字色:  [#333333] [■]                 │
│ 枠線:    ☐ あり  色: [#ff0000]         │
│ 太字:    ☐                              │
│                                         │
│ プレビュー:                             │
│ ┌─────────────────────────────────┐    │
│ │ SANチェック 1/1D6               │    │
│ └─────────────────────────────────┘    │
│                                         │
│          [キャンセル] [保存]            │
└─────────────────────────────────────────┘
```

### デフォルトパターン（初期状態）

| パターン名 | キーワード | 背景色 | 文字色 | 初期状態 |
|------------|------------|--------|--------|----------|
| SANチェック | `SAN`, `正気度`, `狂気`, `0/1D` | #ffebee | #c62828 | 有効 |
| 技能判定 | `【判定】`, `〈`, `《`, `難易度` | #e3f2fd | #1565c0 | 有効 |
| NPC情報 | `NPC:`, `【NPC】`, `▼NPC` | #fff9c4 | #f57f17 | 有効 |
| 重要情報 | `《重要》`, `※重要`, `【重要】` | #fff3e0 | #e65100 | 有効 |

---

## 技術要件

- 単一HTMLファイル（CSS/JavaScript内包）
- 外部ライブラリ不使用
- 対応ブラウザ: Chrome/Firefox/Safari/Edge最新版
- 最小幅: 768px

---

## LocalStorage保存内容
```javascript
キー: `scenario_[シナリオ名]`

値: {
  // 表示状態
  expandedSections: [...],
  checkedSections: [...],
  theme: "light",
  wpModalShown: true,
  
  // 強調表示設定
  highlightEnabled: true,
  highlightPatterns: [
    {
      id: "san",
      name: "SANチェック",
      keywords: ["SAN", "正気度", "狂気", "0/1D"],
      bgColor: "#ffebee",
      textColor: "#c62828",
      border: false,
      bold: false,
      enabled: true
    },
    // ... 他のパターン
  ]
}
```

---

## 変換ルール

1. ファイル名の番号順にサイドバー・コンテンツを配置
2. フォルダは展開可能なグループとして表示
3. マークダウン記法をHTMLに変換
4. セクションIDは `sec-[ファイル名]` 形式
5. 空ファイルは「（内容なし）」と表示
6. 強調表示はJavaScriptで動的に適用（設定変更時に即反映）

---

## 出力

完全なHTMLファイルとして出力してください。