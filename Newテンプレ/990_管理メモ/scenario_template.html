<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>シナリオ名 - セッション用</title>
  <style>
    :root {
      --bg-primary: #1e1e1e;
      --bg-secondary: #252526;
      --bg-tertiary: #2d2d30;
      --text-primary: #cccccc;
      --text-secondary: #858585;
      --accent: #569cd6;
      --border: #3c3c3c;
      --folder-color: #dcb67a;
      --file-color: #9cdcfe;
      --sidebar-width: 280px;
    }
    
    [data-theme="light"] {
      --bg-primary: #ffffff;
      --bg-secondary: #f3f3f3;
      --bg-tertiary: #e8e8e8;
      --text-primary: #333333;
      --text-secondary: #666666;
      --accent: #0066cc;
      --border: #dddddd;
      --folder-color: #b8860b;
      --file-color: #0066cc;
    }
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: 'Segoe UI', 'Yu Gothic UI', 'Meiryo', sans-serif;
      background: var(--bg-primary);
      color: var(--text-primary);
      line-height: 1.6;
      display: flex;
      height: 100vh;
      overflow: hidden;
    }
    
    /* ヘッダー */
    .header {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      height: 40px;
      background: var(--bg-tertiary);
      border-bottom: 1px solid var(--border);
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 16px;
      z-index: 100;
    }
    
    .header h1 {
      font-size: 14px;
      font-weight: 500;
    }
    
    .header-controls {
      display: flex;
      gap: 8px;
    }
    
    .header-btn {
      background: var(--bg-secondary);
      border: 1px solid var(--border);
      color: var(--text-primary);
      padding: 4px 12px;
      border-radius: 4px;
      cursor: pointer;
      font-size: 12px;
    }
    
    .header-btn:hover {
      background: var(--accent);
      color: white;
    }
    
    /* サイドバー */
    .sidebar {
      width: var(--sidebar-width);
      background: var(--bg-secondary);
      border-right: 1px solid var(--border);
      overflow-y: auto;
      margin-top: 40px;
      height: calc(100vh - 40px);
      flex-shrink: 0;
    }
    
    .sidebar-header {
      padding: 12px 16px;
      font-size: 11px;
      text-transform: uppercase;
      color: var(--text-secondary);
      border-bottom: 1px solid var(--border);
    }
    
    .tree-item {
      cursor: pointer;
      user-select: none;
    }
    
    .tree-label {
      display: flex;
      align-items: center;
      padding: 4px 8px;
      padding-left: calc(8px + var(--depth, 0) * 16px);
      gap: 6px;
      font-size: 13px;
    }
    
    .tree-label:hover {
      background: var(--bg-tertiary);
    }
    
    .tree-label.active {
      background: var(--accent);
      color: white;
    }
    
    .tree-icon {
      width: 16px;
      text-align: center;
      font-size: 10px;
    }
    
    .tree-icon.folder { color: var(--folder-color); }
    .tree-icon.file { color: var(--file-color); }
    
    .tree-children {
      display: none;
    }
    
    .tree-item.expanded > .tree-children {
      display: block;
    }
    
    .tree-item.expanded > .tree-label .tree-icon.folder::before {
      content: "📂";
    }
    
    .tree-item:not(.expanded) > .tree-label .tree-icon.folder::before {
      content: "📁";
    }
    
    .tree-icon.file::before {
      content: "📄";
    }
    
    /* メインコンテンツ */
    .main {
      flex: 1;
      overflow-y: auto;
      margin-top: 40px;
      height: calc(100vh - 40px);
      padding: 24px;
    }
    
    .section {
      margin-bottom: 24px;
      background: var(--bg-secondary);
      border-radius: 8px;
      border: 1px solid var(--border);
      overflow: hidden;
    }
    
    .section-header {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 12px 16px;
      background: var(--bg-tertiary);
      cursor: pointer;
      user-select: none;
    }
    
    .section-header:hover {
      background: var(--border);
    }
    
    .section-toggle {
      width: 20px;
      text-align: center;
      transition: transform 0.2s;
    }
    
    .section.collapsed .section-toggle {
      transform: rotate(-90deg);
    }
    
    .section-title {
      font-weight: 600;
      font-size: 14px;
    }
    
    .section-content {
      padding: 16px;
      white-space: pre-wrap;
      font-size: 14px;
    }
    
    .section.collapsed .section-content {
      display: none;
    }
    
    /* 強調表示 */
    .highlight-san {
      background: #ffebee;
      color: #c62828;
      padding: 2px 4px;
      border-radius: 3px;
    }
    
    .highlight-skill {
      background: #e3f2fd;
      color: #1565c0;
      padding: 2px 4px;
      border-radius: 3px;
    }
    
    .highlight-npc {
      background: #fff9c4;
      color: #f57f17;
      padding: 2px 4px;
      border-radius: 3px;
    }
    
    .highlight-important {
      background: #fff3e0;
      color: #e65100;
      padding: 2px 4px;
      border-radius: 3px;
      font-weight: bold;
    }
    
    [data-theme="light"] .highlight-san,
    [data-theme="light"] .highlight-skill,
    [data-theme="light"] .highlight-npc,
    [data-theme="light"] .highlight-important {
      /* ライトテーマでも同じ色を維持 */
    }
    
    /* スクロールバー */
    ::-webkit-scrollbar {
      width: 10px;
    }
    
    ::-webkit-scrollbar-track {
      background: var(--bg-primary);
    }
    
    ::-webkit-scrollbar-thumb {
      background: var(--border);
      border-radius: 5px;
    }
    
    ::-webkit-scrollbar-thumb:hover {
      background: var(--text-secondary);
    }
  </style>
</head>
<body data-theme="dark">
  
  <div class="header">
    <h1>📜 シナリオ名をここに入力</h1>
    <div class="header-controls">
      <button class="header-btn" onclick="expandAll()">全展開</button>
      <button class="header-btn" onclick="collapseAll()">全折畳</button>
      <button class="header-btn" onclick="toggleTheme()">🌓 テーマ</button>
    </div>
  </div>
  
  <aside class="sidebar">
    <div class="sidebar-header">エクスプローラー</div>
    
    <!-- ルートファイル -->
    <div class="tree-item" onclick="scrollToSection('wp')">
      <div class="tree-label" style="--depth: 0">
        <span class="tree-icon file"></span>
        <span>#00_WP前提.txt</span>
      </div>
    </div>
    
    <div class="tree-item" onclick="scrollToSection('idea')">
      <div class="tree-label" style="--depth: 0">
        <span class="tree-icon file"></span>
        <span>#01_案（アイディアまとめ）.txt</span>
      </div>
    </div>
    
    <div class="tree-item" onclick="scrollToSection('planning')">
      <div class="tree-label" style="--depth: 0">
        <span class="tree-icon file"></span>
        <span>#02_ナチュラルプランニング.txt</span>
      </div>
    </div>
    
    <div class="tree-item" onclick="scrollToSection('handout')">
      <div class="tree-label" style="--depth: 0">
        <span class="tree-icon file"></span>
        <span>#03_ハンドアウト.txt</span>
      </div>
    </div>
    
    <div class="tree-item" onclick="scrollToSection('overview')">
      <div class="tree-label" style="--depth: 0">
        <span class="tree-icon file"></span>
        <span>#04_概要.txt</span>
      </div>
    </div>
    
    <!-- フォルダ：導入 -->
    <div class="tree-item expanded" onclick="toggleFolder(event, this)">
      <div class="tree-label" style="--depth: 0">
        <span class="tree-icon folder"></span>
        <span>000_導入</span>
      </div>
      <div class="tree-children">
        <div class="tree-item" onclick="event.stopPropagation(); scrollToSection('intro-overview')">
          <div class="tree-label" style="--depth: 1">
            <span class="tree-icon file"></span>
            <span>00_導入概要.txt</span>
          </div>
        </div>
        <div class="tree-item" onclick="event.stopPropagation(); scrollToSection('intro-1')">
          <div class="tree-label" style="--depth: 1">
            <span class="tree-icon file"></span>
            <span>01_導入1-1.txt</span>
          </div>
        </div>
      </div>
    </div>
    
    <!-- フォルダ：ミドル1 -->
    <div class="tree-item" onclick="toggleFolder(event, this)">
      <div class="tree-label" style="--depth: 0">
        <span class="tree-icon folder"></span>
        <span>001_ミドル1</span>
      </div>
      <div class="tree-children">
        <div class="tree-item" onclick="event.stopPropagation(); scrollToSection('mid1-overview')">
          <div class="tree-label" style="--depth: 1">
            <span class="tree-icon file"></span>
            <span>00_ミドル1概要.txt</span>
          </div>
        </div>
      </div>
    </div>
    
    <!-- 以下同様にフォルダを追加 -->
    
  </aside>
  
  <main class="main">
    
    <!-- WP前提 -->
    <div id="wp" class="section">
      <div class="section-header" onclick="toggleSection(this.parentElement)">
        <span class="section-toggle">▼</span>
        <span class="section-title">📄 #00_WP前提.txt</span>
      </div>
      <div class="section-content">Wish Project
【前提】プレイヤーの感情による所に準ずる

　・プレイヤーの意図した選択の通り、物語が展開する
　　→意図と異なりを感じさせてしまった場合
　　・その選択肢よって生じた展開に理解(できれば納得)できる
　　・プレイヤーに動的な感覚を提供する

＜人間関係＞
　・対、1人の人間関係を意識する
　・反対に　他　対　他　の人間関係も感じられるようにする

＜選択による変化＞
・選択によって変化されたものを意識する
　　自身に関して
　　　→期待、希望、緊張、不安、願い、願望
　　　　(感情の動き、プレイヤーの感情による所)
　　他人に関して
　　　→感情、能力、知識、関心、財産
　　組織
　　　→優劣、富、人材、資材、大小、名誉
　　環境
　　　→行動範囲
</div>
    </div>
    
    <!-- 案 -->
    <div id="idea" class="section">
      <div class="section-header" onclick="toggleSection(this.parentElement)">
        <span class="section-toggle">▼</span>
        <span class="section-title">📄 #01_案（アイディアまとめ）.txt</span>
      </div>
      <div class="section-content">【シナリオ作成について】
・やりたいこと／仕掛けたいことを決める→作りたい場所を先に考える
・始点と着地点を決める→まずは導入とゴールを作る

◆やりたいこと（自分のわがまま）
→自分がやりたいと思う事。箇条書き
・ここに内容を記載

◆仕掛けたいこと（相手への思いやり）
→これをやったらみんなどんな反応するだろう！
・ここに内容を記載
</div>
    </div>
    
    <!-- ナチュラルプランニング -->
    <div id="planning" class="section">
      <div class="section-header" onclick="toggleSection(this.parentElement)">
        <span class="section-toggle">▼</span>
        <span class="section-title">📄 #02_ナチュラルプランニング.txt</span>
      </div>
      <div class="section-content">ナチュラル・プランニングモデル

（1）目的は何か？ どんな価値観で行うか？ 
→ここに記載

（2）結果を思い描く 
→ここに記載

（3）ブレインストーミング 
・アイディアを列挙

（4）思い浮かんだことを整理 
・整理した内容

（5）「次にとるべき行動」を考える 
・次のアクション
</div>
    </div>
    
    <!-- ハンドアウト -->
    <div id="handout" class="section">
      <div class="section-header" onclick="toggleSection(this.parentElement)">
        <span class="section-toggle">▼</span>
        <span class="section-title">📄 #03_ハンドアウト.txt</span>
      </div>
      <div class="section-content">【ハンドアウト】…PC参加概要

ここにハンドアウトの内容を記載します。

------------------------------------------------------------

PC1ハンドアウト:
・推奨: 
・導入: 
</div>
    </div>
    
    <!-- 概要 -->
    <div id="overview" class="section">
      <div class="section-header" onclick="toggleSection(this.parentElement)">
        <span class="section-toggle">▼</span>
        <span class="section-title">📄 #04_概要.txt</span>
      </div>
      <div class="section-content">【概要】
シナリオ名
・システム：
・コンセプト：
・想定プレイ人数：
・想定プレイ時間：

※注意事項について
・ここに注意事項を記載
</div>
    </div>
    
    <!-- 導入セクション -->
    <div id="intro-overview" class="section">
      <div class="section-header" onclick="toggleSection(this.parentElement)">
        <span class="section-toggle">▼</span>
        <span class="section-title">📁 000_導入 / 00_導入概要.txt</span>
      </div>
      <div class="section-content">【導入】について

このフェーズの目的:
・PCをシナリオに引き込む
・基本情報を提供する

所要時間: 約XX分
</div>
    </div>
    
    <div id="intro-1" class="section">
      <div class="section-header" onclick="toggleSection(this.parentElement)">
        <span class="section-toggle">▼</span>
        <span class="section-title">📁 000_導入 / 01_導入1-1.txt</span>
      </div>
      <div class="section-content">■導入1-1

シーン概要:
ここにシーンの詳細を記載

<span class="highlight-skill">〈目星〉</span> 成功で手がかりを発見
<span class="highlight-san">SANチェック 0/1D3</span>
<span class="highlight-npc">NPC: 山田太郎</span>が登場
</div>
    </div>
    
    <!-- ミドル1セクション -->
    <div id="mid1-overview" class="section">
      <div class="section-header" onclick="toggleSection(this.parentElement)">
        <span class="section-toggle">▼</span>
        <span class="section-title">📁 001_ミドル1 / 00_ミドル1概要.txt</span>
      </div>
      <div class="section-content">【ミドル1】について

このフェーズの目的:
・調査パート
・情報収集

所要時間: 約XX分
</div>
    </div>
    
  </main>
  
  <script>
    // セクションの折りたたみ
    function toggleSection(section) {
      section.classList.toggle('collapsed');
      saveState();
    }
    
    // フォルダの展開/折りたたみ
    function toggleFolder(event, item) {
      event.stopPropagation();
      item.classList.toggle('expanded');
    }
    
    // セクションへスクロール
    function scrollToSection(id) {
      const section = document.getElementById(id);
      if (section) {
        section.scrollIntoView({ behavior: 'smooth', block: 'start' });
        // アクティブ表示
        document.querySelectorAll('.tree-label').forEach(l => l.classList.remove('active'));
        event.target.closest('.tree-label')?.classList.add('active');
      }
    }
    
    // 全展開
    function expandAll() {
      document.querySelectorAll('.section').forEach(s => s.classList.remove('collapsed'));
      document.querySelectorAll('.tree-item').forEach(t => t.classList.add('expanded'));
      saveState();
    }
    
    // 全折りたたみ
    function collapseAll() {
      document.querySelectorAll('.section').forEach(s => s.classList.add('collapsed'));
      document.querySelectorAll('.tree-item').forEach(t => t.classList.remove('expanded'));
      saveState();
    }
    
    // テーマ切替
    function toggleTheme() {
      const body = document.body;
      const current = body.getAttribute('data-theme');
      body.setAttribute('data-theme', current === 'dark' ? 'light' : 'dark');
      localStorage.setItem('theme', body.getAttribute('data-theme'));
    }
    
    // 状態保存
    function saveState() {
      const state = {
        collapsed: [...document.querySelectorAll('.section.collapsed')].map(s => s.id),
        expanded: [...document.querySelectorAll('.tree-item.expanded')].map((t, i) => i)
      };
      localStorage.setItem('scenarioState', JSON.stringify(state));
    }
    
    // 状態復元
    function loadState() {
      // テーマ復元
      const theme = localStorage.getItem('theme');
      if (theme) {
        document.body.setAttribute('data-theme', theme);
      }
      
      // 折りたたみ状態復元
      const state = localStorage.getItem('scenarioState');
      if (state) {
        const parsed = JSON.parse(state);
        parsed.collapsed?.forEach(id => {
          document.getElementById(id)?.classList.add('collapsed');
        });
      }
    }
    
    // 初期化
    loadState();
  </script>
  
</body>
</html>
